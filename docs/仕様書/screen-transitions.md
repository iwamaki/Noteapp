# 画面遷移 (Screen Transition)

アプリケーションの主要な画面遷移は以下の通り。

*   **アプリ起動時**:
    *   `NoteListScreen` (ノート一覧画面) が表示される。
    *   既存のノートを選択するか、新規ノート作成を選択することで `NoteEditScreen` (ノート編集画面) へ遷移する。

*   **ノート保存フロー**:
    1.  `NoteEditScreen` でノートを編集後、「保存」ボタンをタップ。
    2.  `DiffViewScreen` (差分表示適用画面) が表示され、現在の内容と保存前の内容との差分を視覚的に確認できる。
    3.  `DiffViewScreen` で変更内容を確認し、「適用」ボタンをタップすることで、ノートが保存され、`NoteListScreen` または `NoteEditScreen` に戻る。

*   **プレビュー機能**:
    1.  `NoteEditScreen` に設置された「プレビュー」ボタンをタップ。
    2.  編集中のノート内容のプレビューが、画面の一部またはモーダルとして表示される。

*   **LLM連携チャットによる編集フロー**:
    1.  アプリケーションのナビゲーションバーに常に表示されているチャット入力部をタップ。
    2.  LLMとの対話が可能なチャットウィンドウが表示され、ユーザーはLLMにノート内容の編集指示などを送信する。
    3.  LLMによる編集が完了すると、自動的に `DiffViewScreen` が表示され、LLMによる変更内容と元の内容との差分を視覚的に確認できる。
    4.  `DiffViewScreen` で変更内容を確認し、「適用」ボタンをタップすることで、LLMによる編集がノートに反映され、保存される。

*   **バージョン履歴機能**:
    1.  `NoteEditScreen` または `NoteListScreen` から「バージョン履歴画面 (`VersionHistoryScreen`)」へ遷移する。
    2.  `VersionHistoryScreen` で過去のバージョンを選択し、復元を試みる際に `DiffViewScreen` が表示され、現在のノート内容と復元対象のバージョンとの差分を確認できる。
    3.  `DiffViewScreen` で変更内容を確認し、「適用」ボタンをタップすることで、ノートのバージョンが変更され、`NoteEditScreen` に戻る。

*   **設定画面**:
    1.  アプリケーションのナビゲーションバーまたはメニューから「設定画面 (`SettingsScreen`)」へ遷移する。
    2.  `SettingsScreen` でプライバシーモードの切り替えなどの設定を行う。